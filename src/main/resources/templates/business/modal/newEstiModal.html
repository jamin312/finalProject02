<!-- /templates/business/modal/newEstiModal.html -->
<div th:fragment="newEstiModal">
  <!--  모달 본체 -->
  <div class="modal-backdrop" id="newEstiBackdrop"></div>
  <div class="modal" id="newEstiModal">
    <div class="modal-dialog modal-dialog-centered" style="--bs-modal-width: 1100px;">
      <div class="modal-content">
        <div class="modal-body">
	          <div class="row">
		        <!-- 검색조건 -->
		        <div class="col-md-12">
		        	<div class="card-header with-actions">
						<div class="card-header-left">
				          	<h5 class="modal-title">신규 견적서 등록</h5>
						</div>
						<div class="card-header-right">
							<!-- <button type="button" class="btn btn-outline-dark" id="searchProductBtn">조회</button> -->
			           		<button type="button" class="btn btn-outline-dark" id="btnEstiSave">저장</button>
						</div>
					</div>
					
					<div class="card-body">
						<div class="row g-2">
							<!-- 고객사명 -->
				            <div class="col-md-3">
				              <label for="autoCustcomId" class="form-label">고객사코드</label>

								<!-- [자동완성][추가] 고객사Id input + 추천 목록을 함께 감싸는 래퍼 -->
								<div class="position-relative">
									<!-- [자동완성][기존 input에 autocomplete="off"만 추가] -->
									<input id="autoCustcomId" type="text" class="form-control" placeholder="고객사코드를 입력해주세요" autocomplete="off">
									<!-- 브라우저 기본 자동완성 끄기 -->

									<!-- [자동완성][추가] 사용자Id 자동완성 후보 리스트 -->
									<ul id="autoCustcomIdSuggest" class="list-group position-absolute w-100" style="z-index: 2000;">
										<!-- JS에서 <li> 항목이 동적으로 추가됨 -->
									</ul>
								</div>
				            </div>
							
							<!-- estiId 유지용 -->
							<input type="hidden" id="estiIdHidden" value="">
							
							<!-- <div class="col-1"></div> -->
							
				            <div class="col-md-3">
				              <label for="autoCustcomName" class="form-label">고객사명</label>

								<!-- [자동완성][추가] 고객사명 input + 추천 목록을 함께 감싸는 래퍼 -->
								<div class="position-relative">
									<!-- [자동완성][기존 input에 autocomplete="off"만 추가] -->
									<input id="autoCustcomName" type="text" class="form-control" placeholder="고객사명을 입력해주세요" autocomplete="off">
									<!-- 브라우저 기본 자동완성 끄기 -->

									<!-- [자동완성][추가] 사용자명 자동완성 후보 리스트 -->
									<ul id="autoCustcomNameSuggest" class="list-group position-absolute w-100" style="z-index: 2000;">
										<!-- JS에서 <li> 항목이 동적으로 추가됨 -->
									</ul>
								</div>
				            </div>
				            
				            <div class="col-1"></div>
				            
				            <!-- 납기일 -->
				            <div class="col-md-3">
				            	<label for="mDueDt" class="form-label">납기일</label>
									<div class="input-group date js-date-single">
										<input id="mDueDt" type="text" class="form-control datepicker js-date-input" placeholder="날짜 선택">
										<span class="input-group-text js-date-icon">
										<i class="bi bi-calendar"></i>
										</span>
									</div>
				            </div>

						</div>
					</div> <!-- 입력조건 end -->
	           </div> <!-- col-md-12 end -->
	           
	           <!-- 견적서목록 카드 -->
				<div class="row">
		
					<!-- 상품 목록 그리드 -->
		
							<!-- 카드 헤더 : 제목 + 잠금 해제 버튼 -->
							<div class="card-header with-actions">
								<div class="card-header-left">
									<h5 class="card-title">상품 목록</h5>
								</div>
								<div class="card-header-right">
									<div style="margin-top: 1em; font-size: 12px;">
										<span class="badge bg-secondary"> *고객사, 납기일, 상품 순으로 입력해주세요.</span>
									</div>
									<button type="button" class="btn btn-outline-dark" id="addRowBtn">행추가</button>
									<!-- <button type="button" class="btn btn-outline-dark" id="maxDcBtn">최대할인적용</button> -->
									<button type="button" class="btn btn-danger" id="deleteRowBtn">삭제</button>
								</div>
							</div>
		
							<div class="card-body">
								<div class="newEstiGridWrap" style="width: 100%;">
									<div id="newEstiGridDiv"></div>
								</div>
							</div>
				</div> <!-- end 견적서목록 카드 -->
	        </div>
		    
        </div>
      </div>
    </div>
  </div>
</div>