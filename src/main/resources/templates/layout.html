<!DOCTYPE html>
<html lang="ko" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:th="http://www.thymeleaf.org">
<head>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>ERP Project</title>
<!-- plugins:css -->
<link rel="stylesheet" href="/assets/vendors/feather/feather.css">
<link rel="stylesheet"
	href="/assets/vendors/mdi/css/materialdesignicons.min.css">
<link rel="stylesheet"
	href="/assets/vendors/ti-icons/css/themify-icons.css">
<link rel="stylesheet"
	href="/assets/vendors/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="/assets/vendors/typicons/typicons.css">
<link rel="stylesheet"
	href="/assets/vendors/simple-line-icons/css/simple-line-icons.css">
<link rel="stylesheet" href="/assets/vendors/css/vendor.bundle.base.css">
<!-- endinject -->
<!-- Plugin css for this page -->
<link rel="stylesheet"
	href="/assets/vendors/datatables.net-bs4/dataTables.bootstrap4.css">
<link rel="stylesheet" type="text/css"
	href="/assets/js/select.dataTables.min.css">
<!-- End plugin css for this page -->
<!-- inject:css -->
<link rel="stylesheet" href="/assets/css/style.css">
<!-- endinject -->

<link rel="shortcut icon" href="/assets/images/favicon.png" />

<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

<link rel="shortcut icon" href="/assets/images/favicon.png" />

<!-- datePicker, icon -->
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
<link rel="stylesheet"
	href="/assets/vendors/bootstrap-datepicker/bootstrap-datepicker.min.css">
<link rel="stylesheet"
	href="https://uicdn.toast.com/grid/latest/tui-grid.css" />
<!-- toast ui chart CDNë¡œë“œ -->
<link rel="stylesheet"
	href="https://uicdn.toast.com/chart/latest/toastui-chart.min.css" />
<script src="https://uicdn.toast.com/chart/latest/toastui-chart.min.js"></script>
<script src="https://uicdn.toast.com/grid/latest/tui-grid.js"></script>
<!-- jQuery 3.7.0 -->
<script src="https://code.jquery.com/jquery-3.7.1.js"
	integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
	crossorigin="anonymous"></script>
<script src="/assets/vendors/js/vendor.bundle.base.js"></script>
<!-- jQuery UI -->
<script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>
<!-- jQuery UI CSS -->
<link rel="stylesheet"
	href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">

<!-- teamUtil.js -->
<script src="/assets/js/teamUtil.js"></script>
<!-- ì •ì¬ë¯¼ ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ëª¨ë‹¬ js -->
<script th:if="${session.LOGIN_EMP != null}"
	src="/assets/js/pwChangeModal.js"></script>

<!-- âœ… ë¡œê³  ì‚¬ì´ì¦ˆë§Œ ì¡°ì •í•˜ëŠ” CSS ì¶”ê°€ -->
<style>
.navbar-brand img {
	height: 117px !important; /* ë©”ì¸ ë¡œê³  í¬ê¸° */
	width: auto !important;
}

.navbar-brand.brand-logo-mini img {
	height: 28px; /* mini ë¡œê³  í¬ê¸° */
	width: auto;
}

/* ìƒë‹¨ ì‘ì€ í”„ë¡œí•„ */
.navbar .user-dropdown .img-xs {
  width: 40px !important;
  height: 40px !important;
  object-fit: cover;
}

/* ë“œë¡­ë‹¤ìš´ í° í”„ë¡œí•„ */
.navbar .user-dropdown .img-md {
  width: 200px !important;
  height: 200px !important;
  object-fit: cover;
}

/* í”„ë¡œí•„ ë“œë¡­ë‹¤ìš´ ê¸€ì í¬ê¸° í‚¤ìš°ê¸° */
.navbar .user-dropdown .dropdown-header p{
  font-size: 14px !important;   /* ê¸°ë³¸ ë¼ì¸ë“¤ */
  line-height: 1.35;
}

/* ì´ë¦„(ì •ì§€ì›…)ë§Œ ë” í¬ê²Œ */
.navbar .user-dropdown .dropdown-header .fw-semibold{
  font-size: 18px !important;
}

/* ì‘ì€ í…ìŠ¤íŠ¸(small-text)ë§Œ ë”°ë¡œ */
.navbar .user-dropdown .dropdown-header .small-text{
  font-size: 13px !important;
}

/* "ë¹„ë°€ë²ˆí˜¸ ë³€ê²½" ë©”ë‰´ ê¸€ìë„ í‚¤ìš°ê³  ì‹¶ìœ¼ë©´ */
.navbar .user-dropdown .dropdown-item{
  font-size: 15px !important;
}

</style>

</head>
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
<body class="with-welcome-text">
	<!-- partial:partials/_navbar.html -->
	<nav
		class="navbar default-layout col-lg-12 col-12 p-0 fixed-top d-flex align-items-top flex-row">
		<div
			class="text-center navbar-brand-wrapper d-flex align-items-center justify-content-start">
			<div class="me-3"></div>
			<div>
				<a class="navbar-brand brand-logo" href="/"> <img
					src="/assets/images/logo.png" alt="logo" />
				</a> <a class="navbar-brand brand-logo-mini" href="/"> <img
					src="/assets/images/logo-mini.svg" alt="logo" />
				</a>
			</div>
		</div>
		<div class="navbar-menu-wrapper d-flex align-items-top">
			<ul class="navbar-nav">
				<li class="nav-item fw-semibold d-none d-lg-block ms-0">
					<h1 class="welcome-text">
						<span class="text-black fw-bold"
						 th:if="${session.LOGIN_EMP != null}"
						 th:text="${pageTitle}">ëŒ€ì‹œ ë³´ë“œ</span>

						<!-- ë¡œê·¸ì¸ ì•ˆ í–ˆì„ ë•Œ: Guest ì¶œë ¥ -->
						<span class="text-black fw-bold"
							th:if="${session.LOGIN_EMP == null}"> Guest </span>
						<span class="text-black fs-4"
							th:if="${session.LOGIN_EMP != null && session.LOGIN_EMP.masYn == 'e1'}"> (ê´€ë¦¬ì) </span>
					</h1>
				</li>
			</ul>
			<ul class="navbar-nav ms-auto">
				<li class="nav-item d-flex align-items-center gap-2"
					th:if="${session.LOGIN_EMP != null}"><span
					id="session-remaining-badge"
					class="btn btn-outline-primary btn-sm disabled"
					style="cursor: default; pointer-events: none;"> ì„¸ì…˜ ë‚¨ì€ ì‹œê°„: <span
						id="session-remaining-text">--:--</span>
				</span>
					<button type="button" id="session-extend-btn"
						class="btn btn-primary btn-sm">ì„¸ì…˜ ì—°ì¥</button> <!-- ğŸ” ë¯¸ë¡œê·¸ì¸: ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™ -->
					<a th:if="${session.LOGIN_EMP == null}" href="/logIn"
					class="btn btn-outline-primary btn-sm"> ë¡œê·¸ì¸ </a> <!-- ğŸ”“ ë¡œê·¸ì¸ ìƒíƒœ: ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ -->
					<form th:if="${session.LOGIN_EMP != null}"
						th:action="@{/logIn/logout}" method="post" class="d-inline">
						<button type="submit" class="btn btn-danger btn-sm"
							id="logoutMenuItem">ë¡œê·¸ ì•„ì›ƒ</button>
					</form></li>

				<li class="nav-item dropdown d-none d-lg-block user-dropdown">
				  <a class="nav-link" id="UserDropdown" href="#"
				     data-bs-toggle="dropdown" aria-expanded="false">
				    <!-- ìƒë‹¨ ì‘ì€ í”„ë¡œí•„ ì´ë¯¸ì§€ -->
				    <img class="img-xs rounded-circle"
			         th:src="@{/emp/profile/photo}"
			         alt="Profile image" />
				  </a>
				
				  <div class="dropdown-menu dropdown-menu-right navbar-dropdown"
				       aria-labelledby="UserDropdown">
				    <div class="dropdown-header text-center">
				      <!-- í° í”„ë¡œí•„ ì´ë¯¸ì§€ -->
		              <img class="img-md rounded-circle"
			             th:src="@{/emp/profile/photo}"
			             alt="Profile image" />
				
				      <!-- ğŸ”¹ ì‚¬ì› ì´ë¦„ -->
				      <p class="mb-1 mt-3 fw-semibold d-flex align-items-center justify-content-center gap-2"
				         th:if="${session.LOGIN_EMP != null}">
					    <span th:text="${session.LOGIN_EMP.empNm}">ì •ì§€ì›…</span>
					    <span class="text-muted" style="font-size:0.9rem;"
					          th:text="${session.LOGIN_EMP.jobNm}">ëŒ€ë¦¬</span>
					  </p>
									      
				      <p class="mb-1 mt-3 fw-semibold"
				         th:if="${session.LOGIN_EMP == null}">
				        ê²ŒìŠ¤íŠ¸
				      </p>
						
					  <p class="fw-light small-text mb-0"
					     th:if="${session.LOGIN_EMP != null}" align="left">
					    ë¶€ì„œ :
	 				    <span th:text="${session.LOGIN_EMP.deptNm}">ê°œë°œíŒ€</span>
					  </p>
						
				      <!-- ğŸ”¹ ì‚¬ì› ë²ˆí˜¸ -->
				      <p class="fw-light small-text mb-0"
				         th:if="${session.LOGIN_EMP != null}" align="left">
				        ì‚¬ì› ë²ˆí˜¸ :
				        <span th:text="${session.LOGIN_EMP.empId}">EMP0001</span>
				      </p>
				
				      <!-- ğŸ”¹ ê³„ì • ID -->
				      <p class="fw-light small-text mb-0"
				         th:if="${session.LOGIN_EMP != null}" align="left">
				        ê³„ì • ID :
				        <span th:text="${session.LOGIN_EMP.loginId}">loginId</span>
				      </p>
				      
				      <!-- ğŸ”¹ ì´ë©”ì¼ -->
				      <p class="fw-light text-muted mb-0" align="left">
				        <span th:if="${session.LOGIN_EMP != null}"
				              th:text="${session.LOGIN_EMP.email}">
				          user@example.com
				        </span>
				        <span th:if="${session.LOGIN_EMP == null}">
				          guest@example.com
				        </span>
				      </p>
				      
				    </div>
				
				    <a class="dropdown-item"
				       id="pwChangeMenuItem"
				       th:if="${session.LOGIN_EMP != null}">
				      <i class="dropdown-item-icon mdi mdi-calendar-check-outline text-primary me-2"></i>
				      ë¹„ë°€ë²ˆí˜¸ ë³€ê²½
				    </a>
				  </div>
				</li>

			</ul>
			<button
				class="navbar-toggler navbar-toggler-right d-lg-none align-self-center"
				type="button" data-bs-toggle="offcanvas">
				<span class="mdi mdi-menu"></span>
			</button>
		</div>
	</nav>
	<!-- partial -->
	<div class="container-fluid page-body-wrapper">
		<!-- partial:partials/_sidebar.html -->

		<nav class="sidebar sidebar-offcanvas" id="sidebar">
			<ul class="nav">
				<!-- ëŒ€ì‹œë³´ë“œëŠ” ê·¸ëƒ¥ ê³ ì •ìœ¼ë¡œ ë…¸ì¶œ -->
<!-- 				<li class="nav-item">
				  <a class="nav-link" href="/">
				    <i class="mdi mdi-grid-large menu-icon"></i>
				    <span class="menu-title">Dashboard</span>
				  </a>
				</li>
				
				=========================
				êµ¬ë… í•´ì§€ ì „ìš© ë©”ë‰´
				=========================
				<th:block th:if="${session.LOGIN_EMP != null and session.LOGIN_EMP.acctSt == 'r4' and session.LOGIN_EMP.masYn == 'e1'}">
				
				  <li class="nav-item nav-category">
				    êµ¬ë… ê´€ë¦¬
				  </li>
				
				  <li class="nav-item">
				    <a class="nav-link" href="/SubscriptionChoice">
				      <i class="mdi mdi-credit-card-outline menu-icon"></i>
				      <span class="menu-title">êµ¬ë… í”Œëœ ì„ íƒ</span>
				    </a>
				  </li>
				
				  <li class="nav-item">
				    <a class="nav-link" href="/subscription/check">
				      <i class="mdi mdi-file-document-outline menu-icon"></i>
				      <span class="menu-title">ë‚´ êµ¬ë… ì •ë³´</span>
				    </a>
				  </li>
				
				</th:block>

				ì¹´í…Œê³ ë¦¬ ì œëª©
				<li class="nav-item nav-category"
				    th:if="${session.LOGIN_EMP != null and session.LOGIN_EMP.acctSt != 'r4'}">
				  ë©”ë‰´
				</li>

				ğŸ”¥ ëª¨ë“ˆ ë£¨í”„: menuModules ëŠ” @ControllerAdvice ì—ì„œ ì„¸íŒ…í•´ì¤€ë‹¤ê³  ê°€ì •
				<li class="nav-item" th:each="module : ${menuModules}"
					th:if="${session.LOGIN_EMP != null and session.LOGIN_EMP.acctSt != 'r4'}"><a class="nav-link"
					data-bs-toggle="collapse" th:href="'#module-' + ${module.moduleId}"
					aria-expanded="false"
					th:aria-controls="'module-' + ${module.moduleId}"> <i
						class="menu-icon mdi mdi-card-text-outline"></i> ëª¨ë“ˆ ì´ë¦„: ê³µí†µ / ì¸ì‚¬ / ì˜ì—… ...
						<span class="menu-title" th:text="${module.moduleNm}">ëª¨ë“ˆëª…</span> <i
						class="menu-arrow"></i>
				</a>

					<div class="collapse" th:id="'module-' + ${module.moduleId}">
						<ul class="nav flex-column sub-menu">
							ëª¨ë“ˆ ì•ˆì— í¬í•¨ëœ ë©”ë‰´ë“¤
							<li class="nav-item" th:each="menu : ${module.menus}"><a
								class="nav-link" th:href="${menu.menuUrl}"
								th:text="${menu.menuNm}"> ë©”ë‰´ëª… </a></li>
						</ul>
					</div>
				</li> -->
				
				<li class="nav-item" th:each="root : ${sideMenuRoots}">
  <a class="nav-link"
     th:if="${root.folder}"
     data-bs-toggle="collapse"
     th:href="'#menu-' + ${root.menuId}">
    <i class="menu-icon mdi mdi-folder-outline"></i>
    <span class="menu-title" th:text="${root.menuNm}">í´ë”</span>
    <i class="menu-arrow"></i>
  </a>

  <div class="collapse" th:if="${root.folder}" th:id="'menu-' + ${root.menuId}">
    <ul class="nav flex-column sub-menu">
      <li class="nav-item" th:each="c : ${root.children}">
        <a class="nav-link"
           th:if="${!c.folder and c.readable}"
           th:href="@{|${c.menuUrl}|}"
           th:text="${c.menuNm}">ë©”ë‰´</a>
      </li>
    </ul>
  </div>

  <!-- rootê°€ í´ë”ê°€ ì•„ë‹ˆê³  ë°”ë¡œ í˜ì´ì§€ì¸ ê²½ìš° -->
  <a class="nav-link"
     th:if="${!root.folder and root.readable}"
     th:href="@{|${root.menuUrl}|}">
    <i class="menu-icon mdi mdi-link-variant"></i>
    <span class="menu-title" th:text="${root.menuNm}">ë©”ë‰´</span>
  </a>
</li>

<!-- ì¬ê·€ fragment: menuTree -->
<th:block th:fragment="menuTree(nodes)">
  <th:block th:each="n : ${nodes}">
    <li class="nav-item" th:if="${!#lists.isEmpty(n.children) or n.readable}">
      <!-- í´ë” -->
      <a class="nav-link"
         th:if="${n.folder}"
         data-bs-toggle="collapse"
         th:href="'#menu-' + ${n.menuId}">
        <span th:text="${n.menuNm}">í´ë”</span>
        <i class="menu-arrow"></i>
      </a>

      <div class="collapse" th:if="${n.folder}" th:id="'menu-' + ${n.menuId}">
        <ul class="nav flex-column sub-menu"
            th:insert="~{this :: menuTree(${n.children})}">
        </ul>
      </div>

      <!-- í˜ì´ì§€ -->
      <a class="nav-link"
         th:if="${!n.folder and n.readable}"
         th:href="@{|${n.menuUrl}|}"
         th:text="${n.menuNm}">
      </a>
    </li>
  </th:block>
</th:block>
				

			</ul>
		</nav>

		<!-- partial -->
		<div class="main-panel">
			<div class="content-wrapper">
				<div layout:fragment="content"></div>
			</div>
			<!-- content-wrapper ends -->
			<!-- partial:partials/_footer.html -->
			<footer class="footer">
				<div
					class="d-sm-flex justify-content-center justify-content-sm-between">
					<span
						class="text-muted text-center text-sm-left d-block d-sm-inline-block">Premium
						<a href="https://www.bootstrapdash.com/" target="_blank">Bootstrap
							admin template</a> from BootstrapDash.
					</span> <span
						class="float-none float-sm-end d-block mt-1 mt-sm-0 text-center">Copyright
						Â© 2023. All rights reserved.</span>
				</div>
			</footer>
			<!-- partial -->
		</div>
		<!-- main-panel ends -->
	</div>
	<!-- page-body-wrapper ends -->


	<div th:if="${session.LOGIN_EMP != null}"
		th:replace="~{common/modal/pwChangeModal :: pwChangeModal}"></div>
	<div th:if="${session.LOGIN_EMP != null}"
		th:replace="~{common/modal/sessionTimeoutModal :: sessionTimeoutModal}"></div>
	<!-- container-scroller -->
	<!-- plugins:js -->

	<!-- endinject -->
	<!-- Plugin js for this page -->
	<script src="/assets/vendors/chart.js/chart.umd.js"></script>
	<script src="/assets/vendors/progressbar.js/progressbar.min.js"></script>
	<!-- End plugin js for this page -->
	<!-- inject:js -->
	<script src="/assets/js/off-canvas.js"></script>
	<script src="/assets/js/template.js"></script>
	<script src="/assets/js/settings.js"></script>
	<script src="/assets/js/hoverable-collapse.js"></script>
	<script src="/assets/js/todolist.js"></script>
	<!-- endinject -->
	<!-- Custom js for this page-->
	<script src="/assets/js/jquery.cookie.js" type="text/javascript"></script>
	<script src="/assets/js/dashboard.js"></script>
	<!-- <script src="assets/js/Chart.roundedBarCharts.js"></script> -->
	<!-- End custom js for this page-->
	<!-- íŒ€ë³„ë¡œ í•„ìš”í•œ ìœ í‹¸ ëª¨ìŒ-->

	<!-- ì„¸ì…˜ ì •ì±… ê°’ì„ JS ì „ì—­ ë³€ìˆ˜ë¡œ ë…¸ì¶œ -->
	<script th:inline="javascript">
		/*<![CDATA[*/
		// ë¡œê·¸ì¸ëœ í™”ë©´ì—ì„œë§Œ true ë¡œ ë‚´ë ¤ì˜´
		window.SESSION_TIMER_ENABLED =
		/*[[${SESSION_TIMER_ENABLED} ?: false]]*/false;

		window.SESSION_TIMEOUT_MIN =
		/*[[${SESSION_TIMEOUT_MIN} ?: 0]]*/0;

		window.SESSION_TIMEOUT_ACTION =
		/*[[${SESSION_TIMEOUT_ACTION} ?: 't1']]*/'t1';

		window.SESSION_EXPIRE_AT =
		/*[[${SESSION_EXPIRE_AT} ?: 0]]*/0;

		window.SERVER_NOW_MS =
		/*[[${SERVER_NOW_MS} ?: 0]]*/0;
		/*]]>*/
	</script>

	<script src="/assets/js/sessionTimeout.js"></script>


	<script
		src="/assets/vendors/bootstrap-datepicker/bootstrap-datepicker.min.js"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/locales/bootstrap-datepicker.ko.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
	
	<script>
	var Grid = tui.Grid; // or require('tui-grid')

	Grid.applyTheme('striped', {
	  row: {hover:{background: 'yellow'}},
	});
	</script>
</body>
</html>
